---

title: "공부 기록(04.15)"
excerpt: "매일의 공부 기록"

categories: 
    - Javascript

tag:
    - insidejavascript
    - code

last_modified_at: 2020-04-15

---

 오늘은 아침에 일어나서 눈앞이 캄캄할 만큼 허리가 아파서 정말 놀랐습니다.  
 너무 통증이 심하니까, 구급차를 불러야 하나 겁이 나더라구요.  
 동생이 사다준 진통제 두 알 먹고 병원에 갔는데 큰 이상은 없다면서 장시간 앉아 있는 게 허리에 무리를 준 것 같대요.  
 고등학생 때는 하루 종일 앉아 있어도 멀쩡했는데 이젠 먼 과거의 일인가 봅니다...ㅎㅎ  
 틈틈히 스트레칭도 하고 무엇보다 의자를 좋은 거 사야겠어요.   
 그럼, 화이팅입니다. :)  




* * *



## '인사이드 자바스크립트(7장)'

7장은 함수형 프로그래밍에 관한 내용입니다. 6장에서 객체지향 프로그래밍을 소개한 것과 짝을 이루는 파트죠. 간략하게나마 함수형 프로그래밍을 배우면서 받은 이미지는 제품의 생산을 자동화한 공장이었어요. 힘수를 넣는 것마저 함수가 하는 느낌이라 그럴까요?ㅎㅎ **객체지향 프로그래밍이 데이터와 메소드를 꺼내쓰기 편하게 잘 정돈**하는데 초점을 맞췄다면, **함수형 프로그래밍은 재사용과 리펙토링의 편의에 집중**하는 듯 힙니다. 

아래에 소개될 함수들은 클로저를 이용하여 구현하며, 기존의 계산 내역들을 저장해두는 공간(캐시)를 자유변수로 연결합니다. 덕분에 계산을 매번 처음부터 하지 않고 한 번 했던 부분까지는 그저 꺼내쓰면 되는 이익이 생깁니다.



## 캐시(cache)를 사용한 함수 구현



* 팩토리얼(!) 구현

    var fact = function () {  
        var cache = {'0': 1};  *// 자유변수로 외부에서 접근이 불가능하다. 계산 내역이 기록된다.*   
        var func = function (n) {  
            let result = 0;  
            if (typeof(cache[n]) === 'number') {  
                result = cache[n];  
            } else {  
                result = cache[n] = n*func(n-1);  
            }  
            return result;  
        }  
        return func;  
    }();  *// 즉시호출하여 fact에 func을 할당한다.*

    console.log(fact(20));  
    console.log(fact(30));  

<br/>
<br/>
<br/>




* 피보나치 수열 구현

    var fibo = function () {  
        var cache = {'0':0, '1':1};  *// 계산이 기록되는 객체*  
        var result;  
        var func = function (n) {  
            if (typeof(cache[n]) === 'number') {  
                result = cache[n];  
            } else {  
                result = cache[n] = func(n-1) + func(n-2);     
            }  
            return result;  
        }  
        return func;  
    }();  *// 역시 함수의 즉시호출*  

    console.log(fibo(20));






